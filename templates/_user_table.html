<table class="w-full text-sm text-left">
    <thead class="text-xs text-slate-500 uppercase bg-slate-50">
        <tr>
            <th scope="col" class="px-6 py-3">ID</th>
            <th scope="col" class="px-6 py-3">Username</th>
            <th scope="col" class="px-6 py-3">Email</th>
            <th scope="col" class="px-6 py-3">Role</th>
            <th scope="col" class="px-6 py-3 text-center">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for user in data %}
        <tr class="border-b hover:bg-slate-50/50">
            <td class="px-6 py-4 font-medium text-slate-900">{{ user.id }}</td>
            <td class="px-6 py-4">{{ user.username }}</td>
            <td class="px-6 py-4">{{ user.email }}</td>
            <td class="px-6 py-4">
                {% if user.role == 'admin' %}
                    <span class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">Admin</span>
                {% elif user.role == 'institution' %}
                    <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Institution</span>
                {% else %}
                    <span class="px-2 py-1 text-xs font-medium rounded-full bg-slate-100 text-slate-600">User</span>
                {% endif %}
            </td>
            <td class="px-6 py-4 flex items-center justify-center gap-x-2">
                {% if user.id != current_user.id %}
                    <button type="button" 
                        class="w-8 h-8 flex items-center justify-center text-blue-600 hover:bg-blue-100 rounded-full"
                        data-id="{{ user.id }}"
                        data-username="{{ user.username }}"
                        data-email="{{ user.email }}"
                        onclick="openUserEditModal(this)"
                        title="Edit User">
                        <span class="material-symbols-outlined">edit</span>
                    </button>

                    <form id="delete-form-user-{{ user.id }}" action="{{ url_for('delete_user', user_id=user.id) }}" method="POST" class="inline-block">
                        <button type="button" onclick="showDeleteConfirm('delete-form-user-{{ user.id }}')" class="w-8 h-8 flex items-center justify-center text-red-600 hover:bg-red-100 rounded-full" title="Delete User">
                            <span class="material-symbols-outlined">delete</span>
                        </button>
                    </form>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>